import{_ as e,r as o,o as c,c as l,a as n,b as s,e as t,d as p}from"./app-cea8d733.js";const i={},u=p('<h2 id="php基础" tabindex="-1"><a class="header-anchor" href="#php基础" aria-hidden="true">#</a> php基础</h2><p>获取代码执行时间:<br></p><blockquote><p>$stime=microtime(true);<br> 中间是代码运行逻辑<br> $etime=microtime(true);//获取程序执行结束的时间<br> $total=$etime-$stime; //计算差值 echo &quot;<br>当前页面执行时间为：{$total} 秒&quot;;<br> 可以用于调试性能</p></blockquote><hr>',4),r={href:"https://blog.xiaohuwei.cn/amp/279.html",target:"_blank",rel:"noopener noreferrer"},k={href:"https://www.jb51.net/article/72552.htm",target:"_blank",rel:"noopener noreferrer"},d=p(`<div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$url</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;http://www.php100.com/logo.gif&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$ch</span> <span class="token operator">=</span> <span class="token function">curl_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">curl_setopt</span> <span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">,</span> <span class="token constant">CURLOPT_URL</span><span class="token punctuation">,</span> <span class="token variable">$url</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">curl_setopt</span> <span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">,</span> <span class="token constant">CURLOPT_RETURNTRANSFER</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">curl_setopt</span> <span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">,</span> <span class="token constant">CURLOPT_CONNECTTIMEOUT</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$img</span> <span class="token operator">=</span> <span class="token function">curl_exec</span><span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr>`,2),h={href:"https://www.cnblogs.com/rainblack/p/4924581.html",target:"_blank",rel:"noopener noreferrer"},g=p(`<hr><p>32位随机字符串</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$token</span><span class="token operator">=</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token function">mt_rand</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p>php 获取客户访问接口ip</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$ip</span><span class="token operator">=</span><span class="token function">get_client_ip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><p>判断 PHP 接口当前域名是http还是https</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$http_type</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;HTTPS&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;HTTPS&#39;</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string single-quoted-string">&#39;on&#39;</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;HTTP_X_FORWARDED_PROTO&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 
<span class="token operator">&amp;&amp;</span> <span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;HTTP_X_FORWARDED_PROTO&#39;</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string single-quoted-string">&#39;https&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string single-quoted-string">&#39;https://&#39;</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">&#39;http://&#39;</span><span class="token punctuation">;</span>
<span class="token function">halt</span><span class="token punctuation">(</span><span class="token variable">$http</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr>`,10),b={href:"https://www.cnblogs.com/rainblack/p/4924581.html",target:"_blank",rel:"noopener noreferrer"},m=p(`<hr><p>新增id获取</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token class-name static-context">Db</span><span class="token operator">::</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;user&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$userId</span> <span class="token operator">=</span> <span class="token class-name static-context">Db</span><span class="token operator">::</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;user&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getLastInsID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>fastadmin 页面访问思路: 控制器的if ($this-&gt;request-&gt;isAjax()) {} 外边代码 -&gt;js-&gt;view-&gt;控制器if ($this-&gt;request-&gt;isAjax()) {}里边代码-&gt;view</p>`,5);function v(_,f){const a=o("ExternalLinkIcon");return c(),l("div",null,[u,n("p",null,[s("php调用接口 "),n("a",r,[s("https://blog.xiaohuwei.cn/amp/279.html"),t(a)]),n("a",k,[s("https://www.jb51.net/article/72552.htm"),t(a)])]),d,n("p",null,[s("php 获取今日、昨日、上周、本月的起始时间戳和结束时间戳的方法 "),n("a",h,[s("https://www.cnblogs.com/rainblack/p/4924581.html"),t(a)])]),g,n("p",null,[s("php 获取今日、昨日、上周、本月的起始时间戳和结束时间戳的方法 "),n("a",b,[s("https://www.cnblogs.com/rainblack/p/4924581.html"),t(a)])]),m])}const $=e(i,[["render",v],["__file","basic.html.vue"]]);export{$ as default};
